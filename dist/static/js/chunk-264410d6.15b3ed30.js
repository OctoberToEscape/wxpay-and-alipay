(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-264410d6"],{"02ab":function(e,t,n){"use strict";n("68ef"),n("cb51"),n("3743"),n("8a0b")},"04c8":function(e,t,n){"use strict";n("aebd")},"09fe":function(e,t,n){},"0a6e":function(e,t,n){},1146:function(e,t,n){},"16f8":function(e,t,n){"use strict";n("2cdc")},"1a04":function(e,t,n){},"21a7":function(e,t,n){"use strict";n("68ef"),n("cb51"),n("3743"),n("1a04"),n("1146")},"22fa":function(e,t,n){"use strict";n("68ef"),n("cb51"),n("3743"),n("e3b3"),n("bc1b")},2381:function(e,t,n){},"2bb4":function(e,t,n){"use strict";n("68ef"),n("cb51"),n("3743"),n("09fe")},"2cdc":function(e,t,n){},"3a10":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"g",(function(){return m}));var c=n("b775"),r=n("4328"),o=n.n(r),a=function(e){return c["a"].post("/WebOrder/goods",o.a.stringify(e)).then((function(e){return e.data}))},i=function(e){return c["a"].post("/webOrder/getCode",o.a.stringify(e)).then((function(e){return e.data}))},u=function(e){return c["a"].post("/WebOrder/addOrder",o.a.stringify(e)).then((function(e){return e}))},d=function(e){return c["a"].post("/webOrder/addOrder",o.a.stringify(e)).then((function(e){return e}))},s=function(e){return c["a"].post("/WebOrder/pay_success",o.a.stringify(e)).then((function(e){return e.data}))},l=function(e){return c["a"].post("/user/editRealname",o.a.stringify(e)).then((function(e){return e}))},f=function(e){return c["a"].post("/SmallAddress/getAddress",o.a.stringify(e)).then((function(e){return e.data}))},b=function(e){return c["a"].post("/SmallAddress/addAddress",o.a.stringify(e)).then((function(e){return e}))},m=function(e){return c["a"].post("/WebOrder/info",o.a.stringify(e)).then((function(e){return e.data}))}},"40db":function(e,t,n){},"42db":function(e,t,n){"use strict";n("68ef"),n("cb51"),n("3743"),n("dc1b"),n("2381"),n("dde9")},"4d75":function(e,t,n){},"4d86":function(e,t,n){"use strict";n("68ef"),n("5c56")},"5c56":function(e,t,n){},"634a":function(e,t,n){"use strict";n.r(t);var c=n("7336"),r=n("2e1b"),o=(n("22fa"),n("cdc2")),a=(n("68ef"),n("40db"),n("b730")),i=(n("cb51"),n("3743"),n("0a6e"),n("2381"),n("fe02")),u=(n("9c88"),n("6c44")),d=(n("1a04"),n("5d54")),s=(n("42db"),n("9a1c")),l=(n("89a0"),n("a136")),f=(n("4d86"),n("f23a")),b=(n("21a7"),n("aee2")),m=(n("2bb4"),n("dc94")),O=(n("02ab"),n("b0c0"),n("7a23")),j=function(e){return Object(O["pushScopeId"])("data-v-919a695a"),e=e(),Object(O["popScopeId"])(),e},h={class:"order-index"},p={class:"course-content mb-20"},V=j((function(){return Object(O["createElementVNode"])("div",{class:"title"},"课程详情",-1)})),v={class:"info"},N={class:"left mr-20"},y={class:"right"},w={class:"course-title"},_={class:"price"},g={class:"now-price mr-20"},E={class:"old-price"},C={class:"real-name mb-20"},k=j((function(){return Object(O["createElementVNode"])("div",{class:"name-left"},[Object(O["createElementVNode"])("div",{class:"text mb-10"},"真实姓名（必填项）"),Object(O["createElementVNode"])("div",{class:"tips"},"请填写真实姓名")],-1)})),x={class:"pay-price mb-20"},S={class:"price-old mb-25"},B=j((function(){return Object(O["createElementVNode"])("div",{class:"text"},"课程单价",-1)})),I={class:"value"},D={class:"price-new"},T=j((function(){return Object(O["createElementVNode"])("div",{class:"text"},"限时特价",-1)})),F={class:"value active"},H={class:"choose-pay mb-20"},M=j((function(){return Object(O["createElementVNode"])("div",{class:"title mb-40"},"支付方式",-1)})),U=j((function(){return Object(O["createElementVNode"])("span",{class:"ml-10"},"微信支付",-1)})),W=j((function(){return Object(O["createElementVNode"])("span",{class:"ml-10"},"支付宝支付",-1)})),z={class:"rules"},A=j((function(){return Object(O["createElementVNode"])("span",null,"已阅读并同意",-1)})),q={class:"pay-bottom-btn"},L={key:0,class:"left"},P=j((function(){return Object(O["createElementVNode"])("div",{class:"text mb-10"},"特价倒计时",-1)})),R=Object(O["createTextVNode"])("立即支付");function J(e,t,n,j,J,X){var G=m["a"],K=b["a"],Q=f["a"],Y=l["a"],Z=s["a"],$=d["a"],ee=u["a"],te=i["a"],ne=a["a"],ce=o["a"],re=r["a"],oe=c["a"];return Object(O["openBlock"])(),Object(O["createElementBlock"])("div",h,[e.wechat?Object(O["createCommentVNode"])("",!0):(Object(O["openBlock"])(),Object(O["createBlock"])(G,{key:0,title:"确认订单","safe-area-inset-top":"",fixed:"",placeholder:""})),Object(O["createElementVNode"])("main",null,[Object(O["createElementVNode"])("div",p,[V,Object(O["createElementVNode"])("div",v,[Object(O["createElementVNode"])("div",N,[Object(O["createVNode"])(K,{fit:"cover",width:"100%",height:"100%",radius:".16rem",src:e.course.bg_url},null,8,["src"])]),Object(O["createElementVNode"])("div",y,[Object(O["createElementVNode"])("div",w,Object(O["toDisplayString"])(e.course.name),1),Object(O["createElementVNode"])("div",_,[Object(O["createElementVNode"])("div",g,"￥"+Object(O["toDisplayString"])(e.course.rprice),1),Object(O["createElementVNode"])("div",E,"￥"+Object(O["toDisplayString"])(e.course.price),1)])])])]),Object(O["createElementVNode"])("div",C,[k,Object(O["createVNode"])(Y,{inset:""},{default:Object(O["withCtx"])((function(){return[Object(O["createVNode"])(Q,{modelValue:e.course.real_name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.course.real_name=t}),placeholder:"请输入姓名",autocomplete:"off",maxlength:"12"},null,8,["modelValue"])]})),_:1})]),Object(O["createElementVNode"])("div",x,[Object(O["createElementVNode"])("div",S,[B,Object(O["createElementVNode"])("div",I,"￥"+Object(O["toDisplayString"])(e.course.price),1)]),Object(O["createElementVNode"])("div",D,[T,Object(O["createElementVNode"])("div",F,"￥"+Object(O["toDisplayString"])(e.course.preferential_price),1)])]),Object(O["createElementVNode"])("div",H,[M,Object(O["createVNode"])(te,{modelValue:e.payChoose,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.payChoose=t})},{default:Object(O["withCtx"])((function(){return[Object(O["createVNode"])(Y,{border:!1},{default:Object(O["withCtx"])((function(){return[Object(O["createVNode"])(ee,{clickable:"",onClick:t[1]||(t[1]=function(t){return e.payChoose="1"}),border:!1},{title:Object(O["withCtx"])((function(){return[Object(O["createVNode"])(Z,{name:"wechat-pay",size:".52rem",color:"#09bb07"}),U]})),"right-icon":Object(O["withCtx"])((function(){return[Object(O["createVNode"])($,{name:"1","checked-color":"#ff3737"})]})),_:1}),e.wechat?Object(O["createCommentVNode"])("",!0):(Object(O["openBlock"])(),Object(O["createBlock"])(ee,{key:0,clickable:"",onClick:t[2]||(t[2]=function(t){return e.payChoose="2"}),border:!1},{title:Object(O["withCtx"])((function(){return[Object(O["createVNode"])(Z,{name:"alipay",size:".52rem",color:"#108ee9 "}),W]})),"right-icon":Object(O["withCtx"])((function(){return[Object(O["createVNode"])($,{name:"2","checked-color":"#ff3737"})]})),_:1}))]})),_:1})]})),_:1},8,["modelValue"])]),Object(O["createElementVNode"])("div",z,[Object(O["createVNode"])(ne,{modelValue:e.checked,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.checked=t}),"checked-color":"#ff3737","icon-size":".32rem"},{default:Object(O["withCtx"])((function(){return[A,Object(O["createElementVNode"])("span",{class:"active",onClick:t[4]||(t[4]=Object(O["withModifiers"])((function(t){return e.ruleShow=!0}),["stop"]))},"《光环课程支付协议》")]})),_:1},8,["modelValue"])])]),Object(O["createElementVNode"])("div",q,[e.course.end_time-e.course.system_time>0?(Object(O["openBlock"])(),Object(O["createElementBlock"])("div",L,[P,Object(O["createVNode"])(ce,{time:e.course.end_time-e.course.system_time,format:"DD 天 HH : mm : ss",onFinish:e.finish},null,8,["time","onFinish"])])):Object(O["createCommentVNode"])("",!0),Object(O["createElementVNode"])("div",{class:Object(O["normalizeClass"])(e.course.end_time-e.course.system_time>0?"right-mini ":"right-lang")},[Object(O["createVNode"])(re,{color:"#FF3737",round:"",block:"",onClick:e.handleBuy},{default:Object(O["withCtx"])((function(){return[R]})),_:1},8,["onClick"])],2)]),Object(O["createVNode"])(oe,{show:e.ruleShow,rich:e.course.agreement_content,onOnClose:t[6]||(t[6]=function(t){return e.ruleShow=!1})},null,8,["show","rich"])])}var X=n("5530"),G=n("4360"),K=n("6c02"),Q=n("6c43"),Y=n("3a10"),Z=Object(O["defineComponent"])({name:"order-index",components:{rulePopup:c["a"]},setup:function(){var e=Object(K["d"])(),t=Object(K["c"])(),n=Object(O["ref"])(!1),c=Object(O["ref"])(!1),r=Object(O["ref"])("1"),o=Object(O["reactive"])({course:{}}),a=function(){var e=t.query.channel_id;Object(Y["e"])({channel_id:e,uid:G["a"].state.userInfo?G["a"].state.userInfo.id:""}).then((function(e){e&&(o.course=e)}))},i=function(){var t=localStorage.userInfo;if(t){if(!o.course.real_name)return void Object(Q["a"])("请填写真实姓名");if(!n.value)return void Object(Q["a"])("请同意支付协议");"1"===r.value?u():d()}else e.push({name:"login"})},u=function(){s.value?(console.log("吊起微信支付jssdk"),localStorage.OPENID||Object(Y["c"])({redirect_url:encodeURIComponent(window.location.href)}).then((function(e){console.log(e.authurl),window.location.href=e.authurl}))):(console.log("吊起微信支付h5商户号"),Object(Y["i"])({channel_id:t.query.channel_id,uid:110110,pay_method:2,if_wechat_browser:0,real_name:o.course.real_name,redirect_url:"".concat(window.origin,"/pay-success?order_num=")}).then((function(e){1===e.status&&(window.location.href=e.data.mweb_url)})))},d=function(){Object(Y["a"])({channel_id:t.query.channel_id,uid:G["a"].state.userInfo.id,pay_method:1,real_name:o.course.real_name,redirect_url:"".concat(window.origin,"/pay-success?order_num=")}).then((function(e){if("string"===typeof e){var t=document.createElement("div");t.innerHTML=e,document.body.appendChild(t),document.forms[0].submit()}}))},s=Object(O["computed"])((function(){return G["a"].state.isWechat})),l=function(){return a()};return Object(O["onMounted"])((function(){a()})),Object(X["a"])(Object(X["a"])({checked:n,ruleShow:c,payChoose:r,wechat:s},Object(O["toRefs"])(o)),{},{finish:l,handleBuy:i,wechatPay:u,alipay:d})}}),$=(n("04c8"),n("6b0d")),ee=n.n($);const te=ee()(Z,[["render",J],["__scopeId","data-v-919a695a"]]);t["default"]=te},7336:function(e,t,n){"use strict";var c=n("5f24"),r=(n("ac6b"),n("2e1b")),o=(n("22fa"),n("7a23")),a={class:"modify-name-content"},i=["innerHTML"],u={class:"handle-btn"},d=Object(o["createTextVNode"])("确定");function s(e,t,n,s,l,f){var b=r["a"],m=c["a"];return Object(o["openBlock"])(),Object(o["createBlock"])(m,{class:"modify-name",show:e.dialog,"onUpdate:show":t[0]||(t[0]=function(t){return e.dialog=t}),round:"","close-on-click-overlay":!1,onClose:e.close},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("div",{class:"desc",innerHTML:e.rich},null,8,i),Object(o["createElementVNode"])("div",u,[Object(o["createVNode"])(b,{plain:"",type:"primary",onClick:e.close},{default:Object(o["withCtx"])((function(){return[d]})),_:1},8,["onClick"])])])]})),_:1},8,["show","onClose"])}var l=Object(o["defineComponent"])({name:"modify-name-popup",props:{show:{type:Boolean,default:function(){return!1}},rich:{type:String,default:function(){return""}}},setup:function(e,t){var n=t.emit,c=Object(o["ref"])(!1),r=function(){return n("onClose")};return Object(o["watchEffect"])((function(){c.value=e.show})),{dialog:c,close:r}}}),f=(n("16f8"),n("6b0d")),b=n.n(f);const m=b()(l,[["render",s],["__scopeId","data-v-eecd9488"]]);t["a"]=m},"89a0":function(e,t,n){"use strict";n("68ef"),n("cb51"),n("3743")},"8a0b":function(e,t,n){},"9c88":function(e,t,n){"use strict";n("68ef"),n("dc1b")},a71a:function(e,t,n){},ac6b:function(e,t,n){"use strict";n("68ef"),n("cb51"),n("3743"),n("a71a"),n("4d75")},aebd:function(e,t,n){},b0c0:function(e,t,n){var c=n("83ab"),r=n("5e77").EXISTS,o=n("e330"),a=n("9bf2").f,i=Function.prototype,u=o(i.toString),d=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,s=o(d.exec),l="name";c&&!r&&a(i,l,{configurable:!0,get:function(){try{return s(d,u(this))[1]}catch(e){return""}}})},bc1b:function(e,t,n){},dc1b:function(e,t,n){},dde9:function(e,t,n){},e3b3:function(e,t,n){}}]);